syntax = "proto3";

option csharp_namespace = "Eroad.FleetManagement.Contracts";

import "google/protobuf/wrappers.proto";

package fleetmanagement.query;

// Query service for driver lookups
service DriverLookup {
  rpc GetDriverById(GetDriverByIdRequest) returns (DriverResponse);
  rpc GetDriversByStatus(GetDriversByStatusRequest) returns (DriverLookupResponse);
  rpc GetAllDrivers(GetAllDriversRequest) returns (DriverLookupResponse);
}

// Query service for vehicle lookups
service VehicleLookup {
  rpc GetVehicleById(GetVehicleByIdRequest) returns (VehicleResponse);
  rpc GetVehiclesByStatus(GetVehiclesByStatusRequest) returns (VehicleLookupResponse);
  rpc GetAllVehicles(GetAllVehiclesRequest) returns (VehicleLookupResponse);
}

message Driver {
	enum Status {
	  AVAILABLE = 0;
	  SUSPENDED = 1;
	  UNAVAILABLE = 2;
	  ASSIGNED = 3;
	}
}

message Vehicle {
	enum Status {
	  AVAILABLE = 0;
	  ASSIGNED = 1;
	  MAINTENANCE = 2;
	  OUT_OF_SERVICE = 3;
	}
}

// Request messages - Driver
message GetDriverByIdRequest {
  string id = 1;
}

message GetDriversByStatusRequest {
  string status = 1;
}

message GetAllDriversRequest {
}

// Request messages - Vehicle
message GetVehicleByIdRequest {
  string id = 1;
}

message GetVehiclesByStatusRequest {
  string status = 1;
}

message GetAllVehiclesRequest {
}

// Response messages
message DriverResponse {
  string message = 1;
  DriverEntity driver = 2;
}

message VehicleResponse {
  string message = 1;
  VehicleEntity vehicle = 2;
}

message DriverLookupResponse {
  string message = 1;
  repeated DriverEntity drivers = 2;
}

message VehicleLookupResponse {
  string message = 1;
  repeated VehicleEntity vehicles = 2;
}

// Entity messages (mirror REST DTOs)
message DriverEntity {
  string id = 1;
  string name = 2;
  string driver_license = 3;
  string status = 4;
}

message VehicleEntity {
  string id = 1;
  string registration = 2;
  string vehicle_type = 3;
  string status = 4;
}
